apiVersion: kctf.dev/v1
kind: Challenge
metadata:
  name: kctf
spec:
  deployed: true
  powDifficultySeconds: 1
  network:
    public: true
  healthcheck:
    enabled: true
    image: eu.gcr.io/gctf-vrp/kctf-healthcheck:ba3b7b5b6e67d1cf29e43748113a4ad7f9b5c81f5c2e22e28cd0d093cf2d4cde
  podTemplate:
    template:
      spec:
        containers:
          - name: challenge
            volumeMounts:
              - mountPath: /flag
                name: flag
                readOnly: true
              - name: etc-os-release
                mountPath: /etc/node-os-release
                readOnly: true
        volumes:
          - name: etc-os-release
            hostPath:
              path: /etc/os-release
          - name: flag
            secret:
              defaultMode: 0555
              secretName: kctf-flag
              optional: true
  image: eu.gcr.io/gctf-vrp/kctf-challenge:425670f084e0344fddd192efc0ce8b16c5d72286c27705cc591b9ff2b000b3c3
